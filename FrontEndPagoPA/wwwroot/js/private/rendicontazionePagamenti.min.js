function FiltraRichieste(){let n={dataInizio:$("#dataInizio").val(),dataFine:$("#dataFine").val(),worked:$("#worked").val(),valid:$("#valid").val(),nominativo:$("#nominativo").val(),paid:$("#pagato").val(),page:1,itemsPerPage:itemsPerPage};$.post("/Action/FiltraRichieste",n,function(n){let t=$.parseJSON(n);GetRichieste(t.Result);CreatePaginations(t.Message)})}function GeneraCsv(){let n={dataInizio:$("#dataInizio").val(),dataFine:$("#dataFine").val(),nominativo:$("#nominativo").val(),paid:$("#pagato").val()};$.post("/Action/GeneraRendicontazione",n,function(n){window.open(n)})}function GetRichiestePerPage(n,t){$.get("/Action/GetRendicontazionePagamenti?page="+n+"&itemsPerPage="+itemsPerPage,function(n){var i=$.parseJSON(n);GetRichieste(i.Result);t&&CreatePaginations(i.Message)})}function CreatePaginations(n){if($(".pagination").empty(),n>0){let i="<a onclick='GetRichiestePerPage(1)'><i class='las la-angle-left'><\/i><\/a>",r=Math.ceil(n/itemsPerPage);for(var t=0;t<r;t++)i+="<a onclick='GetRichiestePerPage("+(t+1)+")'>"+(t+1)+"<\/a>";i+="<a onclick='GetRichiestePerPage("+r+")'><i class='las la-angle-right'><\/i><\/a>";$(".pagination").append(i)}}function EliminaFiltro(){let n=$("#dataInizio"),t=$("#dataFine"),i=$("#nominativo"),r=$("#pagato");$.get("/Action/EliminaFiltroRendicontazione",function(u){var f=$.parseJSON(u);n.val("@today");t.val("");i.val("");r.val("SI");GetRichiestePerPage(1,!0)})}function GetRichieste(n){var t,i;if($(".archive-payments").empty(),n.length>0)for(t=0;t<n.length;t++){let r="Rata unica",u=new Date(n[t].installment.expirationDate),f=u.toLocaleDateString("it-IT",{year:"numeric",month:"2-digit",day:"2-digit"});n[t].installment.numeroRata!=0&&(r=n[t].installment.numeroRata);i="<ul><li>"+n[t].debtPosition.anagraficaPagatore+"<\/li><li>"+n[t].debtPosition.codiceIdentificativoUnivocoPagatore+"<\/li><li>"+n[t].installment.iuv+"<\/li><li>"+n[t].installment.price+"â‚¬<\/li><li class='text-center'>"+r+"<\/li><li>"+f+"<\/li>";i+=n[t].installment.paid==!0&&n[t].installment.valid==!0&&n[t].installment.worked==!0?"<li class='text-center'><a href='#'><i class='bx bxs-check-square'><\/i><\/a><\/li>":"<li class='text-center'><a href='#'><i class='bx bx-x'><\/i><\/a><\/li>";i+="<\/ul>";$(".archive-payments").append(i)}else $(".archive-payments").append("<ul><li style='width:100%; text-align: center; padding:10px'> Nessuna richiesta trovata <\/li><\/ul>")}let itemsPerPage=100;$(function(){GetRichiestePerPage(1,!0)});