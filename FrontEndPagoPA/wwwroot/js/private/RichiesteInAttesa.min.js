function FiltraRichieste(){$(".preload").show();let n={dataInizio:$("#dataInizio").val(),dataFine:$("#dataFine").val(),codiceFiscale:$("#codiceFiscale").val(),iuv:$("#iuv").val(),worked:$("#worked").val(),page:1,itemsPerPage:itemsPerPage};$.post("/Action/FiltraRichieste",n,function(n){let t=JSON.parse(n);GetRichieste(t.Result);CreatePaginations(codiceFiscale,iuv,dataInizio,dataFine)})}function GetRichiestePerPage(n,t){let i=$("#codiceFiscale").val(),r=$("#iuv").val(),u=$("#dataInizio").val(),f=$("#dataFine").val();$.get("/Action/GetRichiesteInAttesa?page="+n+"&itemsPerPage="+itemsPerPage+"&codiceFiscale="+i+"&iuv="+r+"&dataInizio="+u+"&dataFine="+f,function(n){var e=JSON.parse(n);GetRichieste(e.Result);t&&CreatePaginations(i,r,u,f);$(".preload").hide()})}function CreatePaginations(n,t,i,r){$.get("/Action/GetRichiesteInAttesa?page=1&itemsPerPage=1000000000&codiceFiscale="+n+"&iuv="+t+"&dataInizio="+i+"&dataFine="+r,function(n){var r=JSON.parse(n),i=r.Message,t;if($(".pagination").empty(),i>0){let n="<a onclick='GetRichiestePerPage(1)'><i class='las la-angle-left'><\/i><\/a>",r=Math.ceil(i/itemsPerPage);for(t=0;t<r;t++)n+="<a onclick='GetRichiestePerPage("+(t+1)+")'>"+(t+1)+"<\/a>";n+="<a onclick='GetRichiestePerPage("+r+")'><i class='las la-angle-right'><\/i><\/a>";$(".pagination").append(n)}})}function EliminaFiltro(){$(".preload").show();let n=$("#dataInizio"),t=$("#dataFine"),i=$("#codiceFiscale"),r=$("#iuv");$.get("/Action/EliminaFiltroInAttesa",function(u){var f=JSON.parse(u);n.val("");t.val("");i.val("");r.val("");GetRichiestePerPage(1,!0)})}function GetRichieste(n){var t,i;if($(".archive-list-waiting").empty(),n!=null)if(n.length>0)for(t=0;t<n.length;t++){let r="Rata unica",u=new Date(n[t].expirationDate),f=u.toLocaleDateString("it-IT",{year:"numeric",month:"2-digit",day:"2-digit"});n[t].numeroRata!=0&&(r=n[t].numeroRata);i="<ul><li>"+n[t].id+"<\/li><li>"+n[t].iuv+"<\/li><li>"+n[t].codiceIdentificativoUnivocoPagatore+"<\/li><li>"+n[t].price+"â‚¬<\/li><li>"+r+"<\/li><li>"+f+"<\/li><li><strong><i class='las la-clock'><\/i>&nbsp;IN ATTESA DI ESITAZIONE<\/strong><\/li><\/ul>";$(".archive-list-waiting").append(i)}else $(".archive-list-waiting").append("<ul><li style='width:100%; text-align: center; padding:10px'> Nessuna richiesta trovata <\/li><\/ul>");else $(".archive-list-waiting").append("<ul><li style='width:100%; text-align: center; padding:10px'> Nessuna richiesta trovata <\/li><\/ul>");$(".preload").hide()}let itemsPerPage=100;$(function(){$(".preload").show();GetRichiestePerPage(1,!0)});